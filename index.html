<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sendata</title>

    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css" />

</head>

<body>
<!-- Body-wrapper -->
<div class="body-wrapper">
    <!-- Header Content -->
    <header class="container-fluid">
        <div class="page-header">
            <h1>Sendata
                <small>Simple tool for sending file in an Intranet environment</small>
            </h1>
        </div>
    </header>
    <!-- End Header Content -->

    <!-- Main Content -->
    <div class="main-content row">
        <div class="home-page">
            <!-- Search Bar -->
            <div class="container-fluid section-top col-sm-9 col-xs-11 col-md-3">
                <form class="navbar-form navbar-right search-bar">
                    <div class="form-group">
                        <input type="text" id="search-input" autocomplete="off" class="form-control" placeholder="Search for online users" name="user" onkeyup="dynamicSearch()">
                        <!--i wonder what would happen if we turn autocomplete on the above tag? Nothing happens we have to place some AJAX there I think-->
                    </div>
                    <button type="submit" class="btn btn-default" id="user-search-button">
                        <i class="fa fa-search search-icon" aria-hidden="true"></i>
                    </button>
                </form>
                <div id="search-results"></div>
            </div>

            <section class="col-xs-11 col-sm-11 col-md-8" id="user-section">
                <h2>Online Users</h2>

                <!-- List of online users -->
                <div class="users-list" id="listOfUsers">
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            Anaconda
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            Beast
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            AntMan
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            Pokemon
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            Wolverine
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            Ironman
                        </button>
                    </div>
                    <div class="user">
                        <button type="button" class="btn btn-default btn-block online-user" data-toggle="modal" data-target="#waiting_message">
                            batgirl
                        </button>
                    </div>

                    <!-- Modal for when the user wants to connect with one of the online users -->
                    <div class="modal fade" id="waiting_message" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-body">
                                    WAITING FOR CONFIRMATION ...
                                </div>
                                <div class="loader"></div>
                                <div class="button_cancel">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--creating a hidden modal which will popUp when we have a connection request from another user-->
                    <div class="modal fade" id="connection_request" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content modal-conn-request">
                                <div class="modal-body message">
                                    <h2> {{USER}} is requesting to join ... </h2>
                                </div>
                                <div class="btn-reply">
                                    <button type="button" class="btn btn-default btn-success" data-dismiss="modal">Accept</button>
                                    <button type="button" class="btn btn-default btn-danger" data-dismiss="modal">Reject</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div class="transfer-page">
            <!-- Username Display -->
            <div class="user-name">
                <h2> User Name </h2>
            </div>
            <br>

            <!-- File Selection -->
            <div class="file-choose">
                <form action="">
                    <input type="file" name="file-1[]" id="file-1" class="inputfile" data-multiple-caption="{count} files selected" multiple style="display: none;" />
                    <label for="file-1"><i class="fa fa-upload" aria-hidden="true"></i><span>&nbsp;Browse files &hellip;</span></label><br>
                    <input type="submit" value="Send" id="file-send-button" class="btn btn-default">
                </form>
                <hr>
            </div>

            <!-- Transfer Progress Indicator -->
            <div class="progress_bar">
                <h3>
                    Progress -
                </h3>
                <p> File 1:</p>
                <div class="progress">
                    <div class="progress-bar" id="file1" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                        60%
                    </div>
                </div>
                <p> File 2:</p>
                <div class="progress">
                    <div class="progress-bar" id="file2" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 20%;">
                        20%
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--End Main Content-->

    <!-- Login-page -->
    <div class="login-page">
        <form class="login-form">
            <div class="form-group">
                <label for="username">User Name</label>
                <input type="text" autocomplete="off" class="form-control usernameInput" id="username" placeholder="Enter your name here">
            </div>
        </form>
        <div class="alert-username">
            <div class="alert alert-danger alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <strong>Warning!</strong> Better check yourself, you're not looking too good.
            </div>
        </div>
    </div>
    <!--End Login-page-->

    <!-- Footer -->
    <section class="footer">

        <!-- Club Description (Not sure if necessary) -->
        <p id="site-desc">Dev Club is a community of tech-minded people in IIT Delhi who experience what real world collaborative software development is and allows everyone to pursue big, useful and exciting projects which are not possible alone. Also, we have a community
            in which we discuss new ideas regarding development and learn a lot while having fun.</p><br>

        <!-- Important Links -->
        <div class="footer-nav">
            <a class="link" id="facebook_link" href="https://www.facebook.com/tech.iitd/"> <img
                    src="images/facebook_logo.png" height=30px width=30px></a>
            <a class="link" id="github_link" href="https://github.com/devclub-iitd"> <img src="images/github_logo.png"
                                                                                          height=30px width=30px></a>
        </div>
        <br>

        <!-- Copyright Info -->
        <div class="copyrights">
            <p>
                &copy All Rights Reserved 2017 <br> Created by Dev Club, IIT DELHI
            </p>
        </div>
    </section>
    <!--End footer-->
</div>
<!--End Body-wrapper-->

<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="js/main.js"></script>
<script>
    //WHEN WE COPY PASTE THE SAME FUNCTION IN THE MAIN FILE IT DOSN'T WORK
    //    alert("Runngin");
    function dynamicSearch() {
        // Declare variables
        //        alert("inFUn");
        var input, filter, ul, li, a, i;
        input = document.getElementById("search-input");
        filter = input.value.toUpperCase();
        ul = document.getElementById("listOfUsers");
        li = ul.getElementsByTagName('button');

        // Loop through all list items, and hide those who don't match the search query
        for (i = 0; i < li.length; i++) {
            a = li[i].innerHTML;
            //            alert(a);
            if (a.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }



    // THE ABOVE FUNCTION SHOULD RUN ASYNCHRONYUSLY I THNK BY DEFAULT ALL THE FUNCTION CALLS ARE ASYNC STILL PLEASE CHECK
</script>

</body>

</html>
